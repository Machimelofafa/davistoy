<!-- readme.html -->
<div class="readme-content card">
  <h1>Stack-up R<sub>th</sub> &Delta;T Calculator Tutorial</h1>
  
  <div class="toc">
    <h2>Table of Contents</h2>
    <ul>
      <li><a href="#overview">Overview</a></li>
      <li><a href="#getting-started">Getting Started</a></li>
      <li><a href="#inputs">Input Parameters</a></li>
      <li><a href="#usability">Usability Features</a></li>
      <li><a href="#results">Understanding Results</a></li>
      <li><a href="#monte-carlo">Monte Carlo Analysis</a></li>
      <li><a href="#mathematical-models">Mathematical Models</a></li>
      <li><a href="#best-practices">Best Practices</a></li>
      <li><a href="#troubleshooting">Troubleshooting</a></li>
    </ul>
  </div>

  <section id="overview">
    <h2>Overview</h2>
    <p>This calculator determines the thermal resistance (R<sub>th</sub>) and resulting temperature rise (&Delta;T) of multi-layer electronic assemblies. It accounts for heat spreading through anisotropic materials and complex multi-die layouts. It's particularly useful for analyzing thermal paths and predicting component temperatures in semiconductor packages, power modules, and stacked-die configurations.</p>
    
    <h3>Key Features</h3>
    <ul>
      <li><strong>Anisotropic Heat Spreading:</strong> Accounts for different thermal conductivities in XY-plane vs. Z-direction.</li>
      <li><strong>Advanced Multi-Die Support:</strong> Models thermal interactions in various layouts (Line, 2-Line, Custom) to find max and average die temperatures.</li>
      <li><strong>Temperature Rise Calculation:</strong> Directly computes temperature increase (&Delta;T in &deg;C) based on die power input.</li>
      <li><strong>Advanced Visualizations:</strong> Renders separate X and Y-axis side views of heat dissipation and a top-down view of the die layout and final spread area.</li>
      <li><strong>Flexible Cooling Models:</strong> Supports direct R<sub>th</sub> specification or a convection calculation.</li>
      <li><strong>Sensitivity Analysis:</strong> Identifies critical parameters affecting thermal performance.</li>
      <li><strong>Monte Carlo Simulation:</strong> Assesses the impact of manufacturing tolerances and material uncertainties.</li>
      <li><strong>Save/Load Configurations:</strong> Save your entire stack-up and settings to your browser to reload them later.</li>
      <li><strong>Light/Dark Theme:</strong> Toggle for user comfort.</li>
    </ul>
  </section>

  <section id="getting-started">
    <h2>Getting Started</h2>
    <h3>Quick Start Steps</h3>
    <ol>
      <li><strong>Define Heat Source:</strong> Enter die dimensions (mm), power dissipation (W), number of dies, and their layout and spacing.</li>
      <li><strong>Build Stack-Up:</strong> Add material layers from die to cooler, specifying thickness (Âµm) and thermal conductivities (W/mÂ·K).</li>
      <li><strong>Configure Cooling:</strong> Choose your cooling method (none, direct R<sub>th</sub>, or convection).</li>
      <li><strong>Calculate:</strong> Click "Calculate" to run the thermal analysis.</li>
      <li><strong>Analyze Results:</strong> Review the primary &Delta;T output, the detailed visualizations, and the thermal resistance breakdown in the summary table.</li>
    </ol>
  </section>

  <section id="inputs">
    <h2>Input Parameters</h2>
    
    <h3>Heat Source (Die) Parameters</h3>
    <table class="param-table">
      <tr>
        <th>Parameter</th>
        <th>Units</th>
        <th>Description</th>
        <th>Typical Range</th>
      </tr>
      <tr>
        <td>Length / Width</td>
        <td>mm</td>
        <td>Die footprint dimensions.</td>
        <td>1-20 mm</td>
      </tr>
      <tr>
        <td># of dies</td>
        <td>-</td>
        <td>Number of identical, parallel heat sources.</td>
        <td>1-16</td>
      </tr>
      <tr>
        <td>Power per die</td>
        <td>W</td>
        <td>The power dissipated by each individual die. Used to calculate temperature rise (&Delta;T).</td>
        <td>1-500 W</td>
      </tr>
      <tr>
        <td>Spacing</td>
        <td>mm</td>
        <td>Center-to-center distance between dies for predefined layouts.</td>
        <td>0.5-20 mm</td>
      </tr>
       <tr>
        <td>Layout</td>
        <td>-</td>
        <td>Arrangement of dies. 'Line', '2-Lines', and 'Quincunx' use the Spacing field. 'Custom' uses the Coords field.</td>
        <td>-</td>
      </tr>
       <tr>
        <td>Coords</td>
        <td>-</td>
        <td>For 'Custom' layout, specify semicolon-separated coordinates for each die center (e.g., `0,0; 10.5,0; 0,10.5`).</td>
        <td>-</td>
      </tr>
    </table>

    <h3>Material Stack-Up Parameters</h3>
    <p>Build your thermal stack from the heat source down to the cooler, layer by layer.</p>
    
    <table class="param-table">
       <tr>
        <th>Parameter</th>
        <th>Units</th>
        <th>Description</th>
        <th>Typical Values</th>
      </tr>
      <tr>
        <td>Material</td>
        <td>-</td>
        <td>Descriptive name for reference.</td>
        <td>Die, Solder, Substrate, TIM, etc.</td>
      </tr>
      <tr>
        <td>t</td>
        <td>&micro;m</td>
        <td>Layer thickness.</td>
        <td>10-2000 &micro;m</td>
      </tr>
      <tr>
        <td>k<sub>xy</sub></td>
        <td>W/(mÂ·K)</td>
        <td>In-plane (X and Y directions) thermal conductivity.</td>
        <td>0.1-400</td>
      </tr>
      <tr>
        <td>k<sub>z</sub></td>
        <td>W/(mÂ·K)</td>
        <td>Through-thickness (Z direction) thermal conductivity.</td>
        <td>0.1-400</td>
      </tr>
    </table>
    
    <h3>Cooler/Base & Monte Carlo</h3>
    <p>These sections remain the same, allowing you to define the final cooling stage resistance and to configure uncertainty analysis.</p>
  </section>

  <section id="usability">
    <h2>Usability Features</h2>
    <ul>
      <li><strong>ðŸ’¾ Save Stack:</strong> Saves all current input values (die, cooler, layers, etc.) to your browser's local storage.</li>
      <li><strong>ðŸ“‚ Load Stack:</strong> Restores the last saved configuration. Useful for resuming work or comparing design variations.</li>
      <li><strong>Dark/Light Mode:</strong> Toggles the UI theme for better visibility. Your preference is saved.</li>
      <li><strong>README:</strong> Shows or hides this tutorial panel.</li>
    </ul>
  </section>

  <section id="results">
    <h2>Understanding Results</h2>
    
    <h3>Primary Outputs</h3>
    <ul>
      <li><strong>&Delta;T / die:</strong> The primary result, representing the temperature rise from ambient to the die. This is the key performance metric. For multi-die layouts, the tool reports both the **maximum** &Delta;T (for the hottest die) and the **average** &Delta;T across all dies.</li>
      <li><strong>Total stack R<sub>th</sub>:</strong> The equivalent thermal resistance for all dies and the cooler combined, presented in &deg;C/W.</li>
    </ul>

    <h3>Results Visualizations</h3>
    <p>The visualizations provide an intuitive understanding of how heat moves through the stack.</p>
    <ul>
      <li><strong>X/Y Axis Thermal Dissipation:</strong> These two side-view diagrams show the heat spreading "cone" through the material layers along the X and Y axes, respectively. The gradient color represents the thermal path, and the expansion of the cone shows the effectiveness of heat spreading.</li>
      <li><strong>Top View Layout:</strong> This diagram shows the die layout from above. The inner (red) rectangles are the actual die footprints. The outer (blue) rectangles represent the final area the heat has spread to at the bottom of the stack, illustrating how the individual thermal zones expand and potentially interact.</li>
    </ul>

    <h3>Summary Table Columns</h3>
    <p>This table breaks down the thermal resistance (R<sub>th</sub>) contributions of each layer and the cooler.</p>
    <table class="results-table">
       <tr>
        <th>Column</th>
        <th>Description</th>
        <th>Interpretation</th>
      </tr>
      <tr>
        <td>R<sub>th</sub> (total stack)</td>
        <td>A layer's thermal resistance, accounting for all dies in parallel.</td>
        <td>Identifies the individual resistance contribution of each layer.</td>
      </tr>
      <tr>
        <td>Cumulative R<sub>th</sub></td>
        <td>The running total of thermal resistance through the stack.</td>
        <td>Shows how resistance accumulates from the die to the cooler.</td>
      </tr>
      <tr>
        <td>Length (Y) at bottom</td>
        <td>The effective width of the heat path after spreading through that layer.</td>
        <td>Measures spreading effectiveness. A larger number is better.</td>
      </tr>
      <tr>
        <td>Contribution [%]</td>
        <td>The percentage of the total stack R<sub>th</sub> (excluding the cooler) that this layer is responsible for.</td>
        <td>Quickly identifies the biggest thermal bottlenecks in your stack-up.</td>
      </tr>
      <tr>
        <td>Sensitivity Index [%]</td>
        <td>A root-sum-square measure of how much the total R<sub>th</sub> changes in response to variations in this layer's thickness and conductivity (t, k<sub>xy</sub>, k<sub>z</sub>).</td>
        <td>A high value means the design is very sensitive to this layer's properties, making it a critical component for process control or optimization.</td>
      </tr>
    </table>
  </section>
  
  <section id="mathematical-models">
    <h2>Mathematical Models</h2>

    <h3>Temperature Rise (&Delta;T) Calculation</h3>
    <p>The primary result is calculated from the thermal resistance and power:</p>
    <div class="math-section">
      <p>&Delta;T<sub>die</sub> [&deg;C] = R<sub>th, die</sub> [&deg;C/W] &times; Power<sub>per die</sub> [W]</p>
    </div>
    
    <h3>Multi-Die Modeling</h3>
    <p>Previously, dies were assumed to be thermally independent. The model is now more sophisticated:</p>
    <ul>
      <li>The tool calculates a full interaction matrix to determine how heat from each die affects every other die.</li>
      <li>This allows for a more accurate prediction of individual die temperatures, especially in dense layouts.</li>
      <li>The result is a list of temperature rises, from which the **maximum** and **average** values are reported, giving you insight into the thermal uniformity of your design.</li>
    </ul>
    
    <p>The rest of the mathematical models for heat spreading, discretization, and cooling remain as described in the following sections.</p>
    </section>

  <section id="best-practices">
    <h2>Best Practices</h2>
    
    <h3>Design & Analysis</h3>
    <ul>
        <li><strong>Use Layouts to Optimize:</strong> Experiment with different 'Layout' options and 'Spacing' to see the impact on the maximum die temperature. Sometimes a non-obvious arrangement can improve performance.</li>
        <li><strong>Save Iterations:</strong> Use the 'Save Stack' and 'Load Stack' features to create a baseline design, then load it and make changes to compare different material choices or geometries.</li>
        <li><strong>Focus on Bottlenecks:</strong> Use the 'Contribution [%]' and 'Sensitivity Index [%]' columns to identify the most critical layers. Small improvements to these layers will yield the largest overall performance gains.</li>
        <li><strong>Validate Anisotropy:</strong> For materials like composites or PCBs, ensure the k<sub>xy</sub> and k<sub>z</sub> values are correct, as the ratio between them is a primary driver of heat spreading.</li>
    </ul>
  </section>

  <section id="troubleshooting">
    <h2>Troubleshooting</h2>
    
    <h3>Common Issues</h3>
    <table class="trouble-table">
      <tr>
        <td>Save/Load Not Working</td>
        <td>Browser privacy settings blocking local storage, or storage is full.</td>
        <td>Ensure your browser allows sites to save data. Try clearing the site data for script.google.com.</td>
      </tr>
      <tr>
        <td>Max and Average &Delta;T are very different</td>
        <td>Significant thermal crosstalk between dies.</td>
        <td>This is expected in dense layouts. The 'max' value is your worst-case scenario. Increase die 'Spacing' or improve heat spreading to reduce the difference.</td>
      </tr>
    </table>
    </section>

</div>

<style>
.readme-content {
  max-width: 900px;
  margin: 0 auto;
  padding: 20px;
  line-height: 1.6;
}

.readme-content h1 {
  text-align: center;
}

body:not(.dark-theme) .readme-content {
  background: #f0f0f0;
  color: #111;
}

body.dark-theme .readme-content {
  background: #172938;
  color: #E8EEF2;
}

.toc {
  background: #dfe9f2;
  border-left: 4px solid #007acc;
  padding: 12px;
  border-radius: 4px;
  margin-bottom: 30px;
}

body.dark-theme .toc {
  background: #102233;
  border-left-color: #4FC3F7;
}

.toc a {
  color: #007acc;
  text-decoration: none;
}

body.dark-theme .toc a {
  color: #4FC3F7;
}

.toc a:hover {
  text-decoration: underline;
}

.math-section {
  background: #eaeaea;
  padding: 10px;
  margin: 15px 0;
  border-left: 3px solid #006bb3;
  border-radius: 4px;
}

body.dark-theme .math-section {
  background: #102233;
  border-left-color: #9ED1F5;
}

.math-section p {
  font-family: 'Courier New', monospace;
}

@media (max-width: 768px) {
  .readme-content {
    padding: 15px;
  }
}
</style>
